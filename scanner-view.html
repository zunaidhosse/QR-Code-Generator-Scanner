<div id="scanner-viewport" class="glass-card p-1 rounded-2xl shadow-lg relative aspect-[4/3] max-w-full mx-auto overflow-hidden">
    <video id="scanner-video" playsinline class="w-full h-full object-cover"></video>
    <canvas id="scanner-canvas" class="hidden"></canvas>
    <div id="scanner-overlay" class="absolute inset-0 pointer-events-none" style="display: none;">
         <div class="cutout pointer-events-auto">
             <div id="scanner-line"></div>
         </div>
    </div>
    <div id="scanner-permission-msg" class="absolute inset-0 bg-black/60 backdrop-blur-sm flex flex-col justify-center items-center text-center p-4 rounded-xl hidden">
        <p class="mb-4" data-lang="cameraPermission.prompt">ক্যামেরা অ্যাক্সেস প্রয়োজন। অনুগ্রহ করে আপনার ব্রাউজারে অনুমতি দিন।</p>
        <button id="request-camera-btn" class="glass-button bg-indigo-600/50 border-indigo-400/50 hover:bg-indigo-500/80 text-white font-bold py-2 px-4 rounded-lg transition-colors" data-lang="cameraPermission.allow">অনুমতি দিন</button>
    </div>
     <div id="scanner-loading" class="absolute inset-0 bg-black/60 backdrop-blur-sm flex justify-center items-center rounded-xl">
        <div class="animate-spin rounded-full h-12 w-12 border-b-2 border-white"></div>
        <p class="ml-4" data-lang="cameraLoading">ক্যামেরা চালু হচ্ছে...</p>
    </div>
</div>
<div id="scanner-controls" class="p-4 flex justify-center gap-4 hidden">
     <button id="switch-camera-btn" class="glass-button bg-gray-600/50 border-gray-400/50 hover:bg-gray-500/80 text-white font-semibold py-2 px-4 rounded-lg transition-colors" data-lang="switchCamera">ক্যামেরা পরিবর্তন</button>
     <button id="flash-btn" class="glass-button bg-gray-600/50 border-gray-400/50 hover:bg-gray-500/80 text-white font-semibold py-2 px-4 rounded-lg transition-colors" data-lang="toggleFlashOn">ফ্ল্যাশ চালু</button>
</div>
<div id="scanner-result-container" class="glass-card p-6 rounded-2xl hidden">
     <h2 class="text-xl font-semibold mb-4 text-white" data-lang="scannedInfo">স্ক্যান করা তথ্য</h2>
     <p id="scanner-result-text" class="glass-input p-3 rounded-md break-words whitespace-pre-wrap mb-4"></p>
     <div id="scanner-actions" class="flex flex-wrap gap-2"></div>
     <div class="mt-4 border-t border-white/10 pt-4">
        <button id="rescan-btn" class="w-full glass-button bg-sky-600/50 border-sky-400/50 hover:bg-sky-500/80 text-white font-semibold py-2 px-4 rounded-lg transition-colors" data-lang="rescan">আবার স্ক্যান করুন</button>
     </div>
</div>
 <div id="scanner-history-container" class="glass-card p-6 rounded-2xl hidden">
    <div class="flex justify-between items-center mb-4">
        <h2 class="text-xl font-semibold text-white" data-lang="scannerHistory">স্ক্যান করা QR কোডের ইতিহাস</h2>
        <button id="clear-scanner-history-btn" class="glass-button bg-red-600/50 border-red-400/50 hover:bg-red-500/80 text-white text-sm font-semibold py-1 px-3 rounded-md flex-shrink-0" data-lang="clearHistory">ইতিহাস মুছুন</button>
    </div>
    <ul id="scanner-history-list" class="space-y-2"></ul>
</div>